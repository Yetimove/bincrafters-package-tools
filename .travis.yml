matrix:
  fast_finish: true
  include:
  - os: linux
    sudo: false
    language: python
    python: '2.7'
  - os: linux
    sudo: false
    language: python
    python: '3.6'
  - os: osx
    language: generic
    osx_image: xcode9

install:
  - ".travis/install.sh"

script:
  - ".travis/run.sh"

after_success:
- codecov

deploy:
  - provider: pypi
    user: uilianries
    password:
      secure: velhyGQUxZ1quh5sTJUDaK5uGtuqS4vAZ09+QVNb6Y9A/TD8WiDIYuoJzL7ThVN0lyyoWnn1rbeVmGLpHyyHHdfadpKRNyvDDEKNPrgtQaD/LB6vK+mocbbqqRMETXNwkmvX5aQ4P6Ul7A2YQ7f7eSAmMAOb/iwZWfIbw2LO1mbHffMXAYslWVe7gErY9PruRUTBykcflowT/q2fN4Kwzoltaqkbwgsf5yhr0ibPQQay/d5TcklQy/2G8SmheZL/NqK0Bk33H5V0iyL35S2O3XAqWypD4mBW5KPWZVL2ZdClhUU/wHYe/P9NegWwsgJ4S1iu3DEzKdb2sbqa06Lb7X8kfClfGVteiEUwi0HO/9ssxryznWqj4R+zqs8zWgYYc3Nx6/5h0sPdLLhNrZgZFF4r5xeHDCO5zU+nV/YzKoYkXj7NRK0Eir1nyow8KT+jULURe346kqM3OrBOz4Y65HYvA7V9YYXdq52VC+ZSWPv7VHPqQLPMouhmBTBGYdbrxcVPMeL2AndQhUQkI7vBrPjWKPNVbbmdaJyS6LTT0LCS0MKcqk8OeXW178KRRzIRqm5q5xmgWPhx+LjcAqJiVyyGCofbb5odcobAqBHCeM+IY9BeBKdPLFnv5bEcSYeaMz9KQTFAj9BDdNOjf0H7oq/SSqQundK0nxyukv8u5Jc=
    on:
      tags: true
      condition: "$TRAVIS_PYTHON_VERSION = '2.7'"
  - provider: pypi
    user: uilianries
    server: https://test.pypi.org/legacy/
    password:
      secure: velhyGQUxZ1quh5sTJUDaK5uGtuqS4vAZ09+QVNb6Y9A/TD8WiDIYuoJzL7ThVN0lyyoWnn1rbeVmGLpHyyHHdfadpKRNyvDDEKNPrgtQaD/LB6vK+mocbbqqRMETXNwkmvX5aQ4P6Ul7A2YQ7f7eSAmMAOb/iwZWfIbw2LO1mbHffMXAYslWVe7gErY9PruRUTBykcflowT/q2fN4Kwzoltaqkbwgsf5yhr0ibPQQay/d5TcklQy/2G8SmheZL/NqK0Bk33H5V0iyL35S2O3XAqWypD4mBW5KPWZVL2ZdClhUU/wHYe/P9NegWwsgJ4S1iu3DEzKdb2sbqa06Lb7X8kfClfGVteiEUwi0HO/9ssxryznWqj4R+zqs8zWgYYc3Nx6/5h0sPdLLhNrZgZFF4r5xeHDCO5zU+nV/YzKoYkXj7NRK0Eir1nyow8KT+jULURe346kqM3OrBOz4Y65HYvA7V9YYXdq52VC+ZSWPv7VHPqQLPMouhmBTBGYdbrxcVPMeL2AndQhUQkI7vBrPjWKPNVbbmdaJyS6LTT0LCS0MKcqk8OeXW178KRRzIRqm5q5xmgWPhx+LjcAqJiVyyGCofbb5odcobAqBHCeM+IY9BeBKdPLFnv5bEcSYeaMz9KQTFAj9BDdNOjf0H7oq/SSqQundK0nxyukv8u5Jc=
    on:
      branch: master
      condition: "$TRAVIS_PYTHON_VERSION = '2.7'"
